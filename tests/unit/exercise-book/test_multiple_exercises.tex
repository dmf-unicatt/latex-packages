\documentclass[oneside]{book}
\usepackage[academic-year=2025]{tests-exercise-book}

\begin{document}

\chapter{Exercises}

\begin{exercise}
This is an exercise in a chapter and outside of a section.

What is \(0 + 0\)?
\end{exercise}

\begin{solution}
  \(0 + 0 = 0\)
\end{solution}

\begin{additionalinformation}
Open python and type 0 + 0
\end{additionalinformation}

\section{First section}

\begin{exercise}
This is an exercise in a section and outside of a subsection.

What is \(1 + 1\)?
\end{exercise}

\begin{solution}
  \(1 + 1 = 2\)
\end{solution}

\begin{additionalinformation}
Open python and type 1 + 1
\end{additionalinformation}

\subsection{First subsection}

\begin{exercise}[subtitle={Simple Addition}]
  What is \(2 + 2\)?
\end{exercise}

\begin{solution}
  \(2 + 2 = 4\)
\end{solution}

\begin{additionalinformation}
Open python and type 2 + 2
\end{additionalinformation}

\section{Second section}

\subsection{A subsection}

\begin{exercise}[examdate={January 14, 2020}, examproblemnumber={1}, examproblemid={2020-01-14-01}]
  What is \(3 + 3\)?
\end{exercise}

\begin{solution}
  \(3 + 3 = 6\)
\end{solution}

\begin{additionalinformation}
Open python and type 3 + 3
\end{additionalinformation}

\subsection{Another subsection}

\begin{exercise}
  What is \(4 + 4\)?

  This exercise is really similar to \cref{ex:1}.
\end{exercise}

\begin{solution}
  \(4 + 4 = 8\)

  This solution is really similar to \cref{sol:1}.
\end{solution}

\begin{additionalinformation}
Open python and type 4 + 4

This additional information is really similar to \cref{add:1}.
\end{additionalinformation}

\begin{exercise}[examdate={January 15, 2020}, examproblemnumber={1}, examproblemid={2020-01-15-01}]
  What is \(5 + 5\)?

  This exercise is really similar to \cref{ex:2020-01-14-01}.
\end{exercise}

\begin{solution}
It's the sum of two numbers, and prints 10.

This solution is more verbose than \cref{sol:2020-01-14-01}.
\end{solution}

\begin{additionalinformation}
Open python and type 5 + 5

This additional information is really similar to \cref{add:2020-01-14-01}.
\end{additionalinformation}

\subsection{A third subsection}

\begin{exercise}[examdate={January 16, 2020}, examproblemnumber={1}, examproblemid={2020-01-16-01}, replacedbyexamproblemid={2021-01-16-01}, replacementsinceacademicyear={2025/2026}]
  What is \(6 + 6\)? I wish I knew, but this exercise will never show up because it will be replaced by the exercise from 2021, namely \cref{ex:2021-01-16-01}.
\end{exercise}

\begin{solution}
  \(6 + 6 = 12\)

Still, this formula will never be shown because it is in the solution of an exercise with will be replaced.

The solution that replaces this one is \cref{sol:2021-01-16-01}.
\end{solution}

\begin{additionalinformation}
Open python and type 6 + 6.

Still, this text will never be shown because it is in the additional information of an exercise with will be replaced.

The additional information that replaces this one is \cref{add:2021-01-16-01}.
\end{additionalinformation}

\begin{exercise}[print=false]
This exercise will not show up because it has \texttt{print=false}.
\end{exercise}

\begin{solution}
This solution will not show up because its exercise has \texttt{print=false}.
\end{solution}

\begin{additionalinformation}
This additional information will not show up because its exercise has \texttt{print=false}.
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2021}, examproblemnumber={1}, examproblemid={2021-01-16-01}]
  What is \(7 + 7\)? This replaced the exercise from 2020, which was asking about \(6 + 6\): look in the source code to find it.
\end{exercise}

\begin{solution}
  \(7 + 7 = 14\).
\end{solution}

\begin{additionalinformation}
Open python and type 7 + 7
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2022}, examproblemnumber={1}, examproblemid={2022-01-16-01}]
  What is \(8 + 8\)? This will replace the exercise from 2023, which will ask about \(9 + 9\): look in the source code to find it.
\end{exercise}

\begin{solution}
  \(8 + 8 = 16\).
\end{solution}

\begin{additionalinformation}
Open python and type 8 + 8
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2023}, examproblemnumber={1}, examproblemid={2023-01-16-01}, replacedbyexamproblemid={2022-01-16-01}, replacementsinceacademicyear={2025/2026}]
  What is \(9 + 9\)? I wish I knew, but this exercise will never show up because it has been replaced by the exercise from 2022, namely \cref{ex:2022-01-16-01}.
\end{exercise}

\begin{solution}
  \(9 + 9 = 18\)

Still, this formula will never be shown because it is in the solution of an exercise with will be replaced.

The solution that replaces this one is \cref{sol:2022-01-16-01}.
\end{solution}

\begin{additionalinformation}
Open python and type 9 + 9.

Still, this text will never be shown because it is in the additional information of an exercise with will be replaced.

The additional information that replaces this one is \cref{add:2022-01-16-01}.
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2024}, examproblemnumber={1}, examproblemid={2024-01-16-01}, replacedbyexamproblemid={2023-01-16-01}, replacementsinceacademicyear={2026/2027}]
  What is \(10 + 10\)? This exercise was supposed to be replaced by the exercise from 2025, namely \cref{ex:2025-01-16-01}, but such replacement will not happen until 2026.
\end{exercise}

\begin{solution}
  \(10 + 10 = 20\).

  The solution that will replace this one is \cref{sol:2025-01-16-01}.
\end{solution}

\begin{additionalinformation}
Open python and type 10 + 10.

The additional information that will replace this one is \cref{add:2025-01-16-01}.
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2025}, examproblemnumber={1}, examproblemid={2025-01-16-01}, replacedbyexamproblemid={2026-01-16-01}, replacementsinceacademicyear={2026/2027}]
  What is \(11 + 11\)? This exercise will be replaced by the exercise from 2026, but such replacement will happen only in 2026. Unfortunately I can't show usage of \texttt{\string\cref\{ex:2026-01-16-01\}} here, because this exercise does not exist yet, but look into the source code to find it.
\end{exercise}

\begin{solution}
  \(11 + 11 = 22\).

  Unfortunately I can't show usage of \texttt{\string\cref\{sol:2026-01-16-01\}} here, because that points to the solution of an exercise that does not exist yet.
\end{solution}

\begin{additionalinformation}
Open python and type 11 + 11.

  Unfortunately I can't show usage of \texttt{\string\cref\{sol:2026-01-16-01\}} here, because that points to the additional information of an exercise that does not exist yet.
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2026}, examproblemnumber={1}, examproblemid={2026-01-16-01}]
  What is \(12 + 12\)? I wish I knew, but this exercise will never show up because it is not available until academic year becomes 2026.
\end{exercise}

\begin{solution}
  \(12 + 12 = 24\).
\end{solution}

\begin{additionalinformation}
Open python and type 12 + 12
\end{additionalinformation}

\begin{exercise}
This is an extra exercise that refers to \cref{chap:1}, \cref{chap:1,chap:2}, \cref{chap:1,chap:2,chap:3},
but also to \cref{chap:1} and \cref{chap:1,chap:2} and \cref{chap:1,chap:2,chap:3} with `and' instead of commas.
Furthermore it refers to \cref{ex:1}, \cref{ex:1,ex:2020-01-14-01}, \cref{ex:1,ex:2020-01-14-01,ex:2022-01-16-01},
but also to \cref{ex:1} and \cref{ex:1,ex:2020-01-14-01} and \cref{ex:1,ex:2020-01-14-01,ex:2022-01-16-01} with `and' instead of commas.
\end{exercise}

\begin{solution}
This refers to \cref{sol:1}, \cref{sol:1,sol:2020-01-14-01}, \cref{sol:1,sol:2020-01-14-01,sol:2022-01-16-01},
but also to \cref{sol:1} and \cref{sol:1,sol:2020-01-14-01} and \cref{sol:1,sol:2020-01-14-01,sol:2022-01-16-01} with `and' instead of commas.
\end{solution}

\begin{additionalinformation}
This refers to \cref{add:1}, \cref{add:1,add:2020-01-14-01}, \cref{add:1,add:2020-01-14-01,add:2022-01-16-01},
but also to \cref{add:1} and \cref{add:1,add:2020-01-14-01} and \cref{add:1,add:2020-01-14-01,add:2022-01-16-01} with `and' instead of commas.
\end{additionalinformation}

\chapter{Solutions}
\AssertPropertyInAllExercises{solution}
\PrintExercisePropertySectionBySection{solution}

\chapter{Additional information}
\AssertPropertyInAllExercises{additionalinformation}
\PrintExercisePropertySectionBySection{additionalinformation}

% Must be the very last line of the file
\SaveReplacements
\end{document}
