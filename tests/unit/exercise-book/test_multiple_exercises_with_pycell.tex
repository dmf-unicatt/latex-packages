\documentclass{book}
\usepackage[academicyear=2025]{tests-exercise-book}

\begin{document}

\chapter{Exercises}

\section{First section}

\subsection{First subsection}

\begin{exercise}[subtitle={Simple Addition}]
  What is \(2 + 2\)?

  Please answer.
\end{exercise}

\begin{solution}
Using LaTex I know that

  \(2 + 2 = 4\)
\end{solution}

\begin{additionalinformation}
Open python and do the following:

\begin{pycell}
2 + 2
\end{pycell}
\begin{pyexpectedoutput}
4
\end{pyexpectedoutput}
\end{additionalinformation}

\section{Second section}

\subsection{A subsection}

\begin{exercise}
  What is \(3 + 3\)?
\end{exercise}

\begin{solution}
  \(3 + 3 = 6\)

Want to try with python?
\begin{pycell}
3 + 3
\end{pycell}
\begin{pyexpectedoutput}
6
\end{pyexpectedoutput}
\end{solution}

\begin{additionalinformation}
You can proceed as before, say
\begin{pycell}
3 + 3
\end{pycell}
\begin{pyexpectedoutput}
6
\end{pyexpectedoutput}

\newpage

Still, there is also a more elaborated solution with variables:

\begin{pycell}
a = 3
b = 3
a + b
\end{pycell}
\begin{pyexpectedoutput}
6
\end{pyexpectedoutput}

The results are obviously the same.
\end{additionalinformation}

\subsection{Another subsection}

\begin{exercise}
  What is \(4 + 4\)?
\end{exercise}

\begin{solution}
  \(4 + 4 = 8\)
\end{solution}

\begin{additionalinformation}
A more elaborated solution with functions:

\begin{pycell}
def my_sum(a, b):
    return a + b

print(my_sum(4, 4))
\end{pycell}
\begin{pyexpectedoutput}
8
\end{pyexpectedoutput}
\end{additionalinformation}

\begin{exercise}
Discuss this code

\begin{pycell}
5 + 5
\end{pycell}
\begin{pyexpectedoutput}
10
\end{pyexpectedoutput}
\end{exercise}

\begin{solution}
It's the sum of two numbers, and prints 10.
\end{solution}

\begin{additionalinformation}
A more elaborated solution with a plot. Store the numbers in a list.

\begin{pycell}
numbers = [5, 5]
\end{pycell}

Then plot their cumulative sum.

\begin{pycell}
import plotly.express as px
fig = px.scatter(
    x=[1, 2],
    y=[numbers[0], numbers[0] + numbers[1]]
)
fig
\end{pycell}
\pyexpectedfigure{images/scatter_12_510.png}

\newpage

You can plot again the figure if you want.

\begin{pycell}
print(sum(numbers))
fig
\end{pycell}
\begin{pyexpectedoutput}
10
\end{pyexpectedoutput}
\pyexpectedfigure{images/scatter_12_510.png}
\end{additionalinformation}

\subsection{A third subsection}

\begin{exercise}[examdate={January 16, 2020}, examproblemnumber={1}, examproblemid={2020-01-16-01}, replacedbyexamproblemid={2021-01-16-01}, replacementsinceacademicyear={2025/2026}]
  What is \(6 + 6\)? I wish I knew, but this exercise will never show up because it will be replaced by the exercise from 2021.

Sample code
\begin{pycell}
6 + 6
\end{pycell}
\begin{pyexpectedoutput}
12
\end{pyexpectedoutput}
\end{exercise}

\begin{solution}
  \(6 + 6 = 12\)

Still, this formula will never be shown because it is in the solution of an exercise with will be replaced.
\end{solution}

\begin{additionalinformation}
Open python and do the following:

\begin{pycell}
print("6 + 6 is", 6 + 6)
\end{pycell}
\begin{pyexpectedoutput}
6 + 6 is 12
\end{pyexpectedoutput}

Still, this text will never be shown because it is in the solution of an exercise with will be replaced.
\end{additionalinformation}

\begin{exercise}[print=false]
This exercise will not show up because it has \texttt{print=false}.
\end{exercise}

\begin{solution}
\begin{pycell}
print(None)
\end{pycell}
\begin{pyexpectedoutput}
None
\end{pyexpectedoutput}
\end{solution}

\begin{additionalinformation}
This additional information will not show up because its exercise has \texttt{print=false}.
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2021}, examproblemnumber={1}, examproblemid={2021-01-16-01}]
  What is \(7 + 7\)? This replaced the exercise from 2020, which was asking about \(6 + 6\): look in the source code to find it.

Sample code
\begin{pycell}
7 + 7
\end{pycell}
\begin{pyexpectedoutput}
14
\end{pyexpectedoutput}
\end{exercise}

\begin{solution}
  \(7 + 7 = 14\).
\end{solution}

\begin{additionalinformation}
Open python and do the following:

\begin{pycell}
print("7 + 7 is", 7 + 7)
\end{pycell}
\begin{pyexpectedoutput}
7 + 7 is 14
\end{pyexpectedoutput}
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2022}, examproblemnumber={1}, examproblemid={2022-01-16-01}]
  What is \(8 + 8\)? This will replace the exercise from 2023, which will ask about \(9 + 9\): look in the source code to find it.

Sample code
\begin{pycell}
8 + 8
\end{pycell}
\begin{pyexpectedoutput}
16
\end{pyexpectedoutput}
\end{exercise}

\begin{solution}
  \(8 + 8 = 16\).
\end{solution}

\begin{additionalinformation}
Open python and do the following:

\begin{pycell}
print("8 + 8 is", 8 + 8)
\end{pycell}
\begin{pyexpectedoutput}
8 + 8 is 16
\end{pyexpectedoutput}
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2023}, examproblemnumber={1}, examproblemid={2023-01-16-01}, replacedbyexamproblemid={2022-01-16-01}, replacementsinceacademicyear={2025/2026}]
  What is \(9 + 9\)? I wish I knew, but this exercise will never show up because it has been replaced by the exercise from 2022.

Sample code
\begin{pycell}
9 + 9
\end{pycell}
\begin{pyexpectedoutput}
18
\end{pyexpectedoutput}
\end{exercise}

\begin{solution}
  \(9 + 9 = 18\)

Still, this formula will never be shown because it is in the solution of an exercise with will be replaced.
\end{solution}

\begin{additionalinformation}
Open python and do the following:

\begin{pycell}
print("9 + 9 is", 9 + 9)
\end{pycell}
\begin{pyexpectedoutput}
9 + 9 is 18
\end{pyexpectedoutput}

Still, this text will never be shown because it is in the solution of an exercise with will be replaced.
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2024}, examproblemnumber={1}, examproblemid={2024-01-16-01}, replacedbyexamproblemid={2023-01-16-01}, replacementsinceacademicyear={2026/2027}]
  What is \(10 + 10\)? This exercise was supposed to be replaced by the exercise from 2025, but such replacement will not happen until 2026.

Sample code
\begin{pycell}
10 + 10
\end{pycell}
\begin{pyexpectedoutput}
20
\end{pyexpectedoutput}
\end{exercise}

\begin{solution}
  \(10 + 10 = 20\).
\end{solution}

\begin{additionalinformation}
Open python and do the following:

\begin{pycell}
print("10 + 10 is", 10 + 10)
\end{pycell}
\begin{pyexpectedoutput}
10 + 10 is 20
\end{pyexpectedoutput}
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2025}, examproblemnumber={1}, examproblemid={2025-01-16-01}, replacedbyexamproblemid={2026-01-16-01}, replacementsinceacademicyear={2026/2027}]
  What is \(11 + 11\)? This exercise will be replaced by the exercise from 2026, but such replacement will happen only in 2026.

Sample code
\begin{pycell}
11 + 11
\end{pycell}
\begin{pyexpectedoutput}
22
\end{pyexpectedoutput}
\end{exercise}

\begin{solution}
  \(11 + 11 = 22\).
\end{solution}

\begin{additionalinformation}
Open python and do the following:

\begin{pycell}
print("11 + 11 is", 11 + 11)
\end{pycell}
\begin{pyexpectedoutput}
11 + 11 is 22
\end{pyexpectedoutput}
\end{additionalinformation}

\begin{exercise}[examdate={January 16, 2026}, examproblemnumber={1}, examproblemid={2026-01-16-01}]
  What is \(12 + 12\)? I wish I knew, but this exercise will never show up because it is not available until academic year becomes 2026.

Sample code
\begin{pycell}
12 + 12
\end{pycell}
\begin{pyexpectedoutput}
24
\end{pyexpectedoutput}
\end{exercise}

\begin{solution}
  \(12 + 12 = 24\).
\end{solution}

\begin{additionalinformation}
Open python and do the following:

\begin{pycell}
print("12 + 12 is", 12 + 12)
\end{pycell}
\begin{pyexpectedoutput}
12 + 12 is 24
\end{pyexpectedoutput}
\end{additionalinformation}

\chapter{Solutions}
\AssertPropertyInAllExercises{solution}
\PrintExercisePropertySectionBySection{solution}

\chapter{Additional information}
\AssertPropertyInAllExercises{additionalinformation}
\PrintExercisePropertySectionBySection{additionalinformation}

% Must be the very last line of the file
\SaveReplacements
\end{document}
